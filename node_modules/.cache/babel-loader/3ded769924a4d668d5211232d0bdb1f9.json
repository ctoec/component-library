{"ast":null,"code":"import _toConsumableArray from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{TextInput,FormStatus,FieldSet}from'..';import Checkbox from'../Checkbox/Checkbox';import RadioButton from'../RadioButton/RadioButton';import{ChoiceListExpansion}from'./ChoiceListExpansion';/**\n * @deprecated\n */export var ChoiceList=function ChoiceList(_ref){var type=_ref.type,inputOptions=_ref.options,id=_ref.id,name=_ref.name,onChange=_ref.onChange,_ref$defaultValue=_ref.defaultValue,inputSelected=_ref$defaultValue===void 0?[]:_ref$defaultValue,legend=_ref.legend,status=_ref.status,disabled=_ref.disabled,optional=_ref.optional,className=_ref.className,hint=_ref.hint,horizontal=_ref.horizontal,otherInputLabel=_ref.otherInputLabel,label=_ref.label,unselectedText=_ref.unselectedText,expansionChildren=_ref.children;var _useState=useState(inputSelected),_useState2=_slicedToArray(_useState,2),selectedItems=_useState2[0],updateSelection=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),otherInput=_useState4[0],updateOtherInput=_useState4[1];var internalOptions=inputOptions;var validTypesArray=React.Children.map(expansionChildren,function(child){if(React.isValidElement(child)){return!!child.type&&child.type.name===ChoiceListExpansion.name;}else{throw new Error('Invalid element');}})||[];var areValid=validTypesArray.reduce(function(pendingAreValid,isValid){return pendingAreValid&&isValid;},true);if(!areValid){throw new Error('One or more children are not of type ChoiceListExpansion');}var valueToExpansionChild=React.Children.toArray(expansionChildren).reduce(function(acc,child){if(React.isValidElement(child)){return _objectSpread({},acc,_defineProperty({},child.props.showOnValue,child));}else{return acc;}},{});internalOptions=inputOptions.map(function(option){return _objectSpread({},option,{expansion:valueToExpansionChild[option.value]});});var changeEvent=function changeEvent(event){var changedValue=event.target.value;if(event.target.type==='text'){// If it's the other text input box\nupdateOtherInput(changedValue);// Do whatever the dev wants done when things change\nonChange(event,selectedItems,changedValue);return;}var newSelectedItems;if(selectedItems.includes(changedValue)){// Uncheck a checkbox if it was already checked\nnewSelectedItems=selectedItems.filter(function(v){return v!==changedValue;});}else if(type==='check'){// If it wasn't already selected and it's a checkbox, add it to whatever else is selected\nnewSelectedItems=[changedValue].concat(_toConsumableArray(selectedItems));}else{// If it's a radio or dropdown, only this value is selected now\nnewSelectedItems=[changedValue];}updateSelection(newSelectedItems);onChange(event,newSelectedItems,otherInput);};var options=_toConsumableArray(internalOptions);if(otherInputLabel!==undefined){options.push({text:otherInputLabel,value:'other'});}var showotherInput=selectedItems.includes('other');var children=[];switch(type){case'radio':if(selectedItems.length>1){throw new Error('Radio group can only have one selected value at a time.');}children=options.map(function(option){var expansion=option.expansion;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(RadioButton,Object.assign({},option,{name:option.name||name||'',onChange:changeEvent,selected:selectedItems.includes(option.value),disabled:disabled// Including whether it's selected to force re-render... seems bad, but otherwise this option is not showing up as checked\n,key:\"\".concat(id,\"-\").concat(option.value,\"-\").concat(selectedItems.includes(option.value))})),expansion&&selectedItems.includes(option.value)&&/*#__PURE__*/React.createElement(\"div\",{className:\"oec-choicelist-expansion\"},expansion));});break;case'check':children=options.map(function(option){var expansion=option.expansion;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Checkbox,{id:\"\".concat(id,\"-\").concat(option.value),text:option.text,value:option.value,name:option.name||name||'',onChange:changeEvent,defaultValue:selectedItems.includes(option.value),disabled:disabled,key:\"\".concat(id,\"-\").concat(option.value)}),expansion&&selectedItems.includes(option.value)&&/*#__PURE__*/React.createElement(\"div\",{className:\"oec-choicelist-expansion\"},expansion));});break;case'select':if(selectedItems.length>1){throw new Error('Dropdown can only have one selected value at a time.');}var optionElements=[/*#__PURE__*/React.createElement(\"option\",{key:\"\".concat(id,\"-unselected\"),value:\"\"},unselectedText||'- Select -')];options.forEach(function(option){optionElements.push(/*#__PURE__*/React.createElement(\"option\",{value:option.value,key:\"\".concat(id,\"-\").concat(option.value)},option.text));});children=[/*#__PURE__*/React.createElement(\"select\",{key:\"\".concat(id,\"-select\"),className:\"usa-select\".concat(status?\" usa-input--\".concat(status.type):''),name:name||'',id:id,onChange:changeEvent,disabled:disabled,value:selectedItems[0],\"aria-required\":!optional// Using aria-required to avoid default Chrome behavior\n,\"aria-describedby\":status?status.id:undefined,\"aria-invalid\":status&&status.type==='error'},[].concat(optionElements))];}if(children.length===1){var singletonInput=/*#__PURE__*/React.createElement(\"div\",{className:\"usa-form-group\".concat(status?\" usa-form-group--\".concat(status.type):'',\" \").concat(className||''),key:\"\".concat(id,\"-form-group\")},hint&&/*#__PURE__*/React.createElement(\"span\",{className:\"usa-hint text-italic\"},hint),/*#__PURE__*/React.createElement(\"div\",{className:!label?'margin-top-3':''}),label&&/*#__PURE__*/React.createElement(\"label\",{className:\"usa-label\".concat(status?\" usa-label--\".concat(status.type):''),htmlFor:id},label),status&&status.message&&/*#__PURE__*/React.createElement(FormStatus,status),_toConsumableArray(children),options.map(function(option){var expansion=option.expansion;return/*#__PURE__*/React.createElement(React.Fragment,{key:\"\".concat(option.value,\"-expansion\")},expansion&&selectedItems.includes(option.value)&&/*#__PURE__*/React.createElement(\"div\",{className:\"oec-choicelist-expansion\"},option.expansion));}));if(!showotherInput){return singletonInput;}children=[singletonInput];}return/*#__PURE__*/React.createElement(FieldSet// Will never actually be undefined\n,{legend:legend||label||'',status:status,id:\"\".concat(id,\"-fieldset\"),\"aria-describedby\":status?status.id:undefined,className:className,childrenGroupClassName:\"margin-top-3\",hint:hint,optional:optional},/*#__PURE__*/React.createElement(\"div\",{className:horizontal?'grid-row flex-align-start grid-gap':''},_toConsumableArray(children),showotherInput&&otherInputLabel!==undefined&&/*#__PURE__*/React.createElement(TextInput,{type:\"input\",id:\"\".concat(id,\"-other\"),name:name||'',label:otherInputLabel,onChange:changeEvent})));};try{// @ts-ignore\nChoiceList.displayName=\"ChoiceList\";// @ts-ignore\nChoiceList.__docgenInfo={\"description\":\"@deprecated\",\"displayName\":\"ChoiceList\",\"props\":{}};// @ts-ignore\nif(typeof STORYBOOK_REACT_CLASSES!==\"undefined\")// @ts-ignore\nSTORYBOOK_REACT_CLASSES[\"src/components/ChoiceList/ChoiceList.tsx#ChoiceList\"]={docgenInfo:ChoiceList.__docgenInfo,name:\"ChoiceList\",path:\"src/components/ChoiceList/ChoiceList.tsx#ChoiceList\"};}catch(__react_docgen_typescript_loader_error){}","map":{"version":3,"sources":["/home/app/src/components/ChoiceList/ChoiceList.tsx"],"names":["ChoiceList","type","options","inputOptions","id","name","onChange","defaultValue","inputSelected","legend","status","disabled","optional","className","hint","horizontal","otherInputLabel","label","unselectedText","children","expansionChildren","selectedItems","updateSelection","useState","otherInput","updateOtherInput","internalOptions","validTypesArray","React","child","ChoiceListExpansion","areValid","pendingAreValid","valueToExpansionChild","expansion","option","changeEvent","changedValue","event","newSelectedItems","v","text","value","showotherInput","optionElements","singletonInput","STORYBOOK_REACT_CLASSES","docgenInfo","path"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { TextInput, FormStatus, FormStatusProps, FieldSet } from '..';\nimport Checkbox from '../Checkbox/Checkbox';\nimport RadioButton from '../RadioButton/RadioButton';\nimport { ChoiceListExpansion } from './ChoiceListExpansion';\n\ntype Option = {\n\ttext: string;\n\tvalue: string;\n\tname?: string;\n};\n\ntype InternalOption = Option & {\n\texpansion?: JSX.Element;\n};\n\nexport type HTMLChoiceElement = HTMLInputElement | HTMLSelectElement;\n\ntype InternalChoiceListProps = {\n\toptions: Option[];\n\tid: string;\n\tname?: string;\n\tonChange: (\n\t\te: React.ChangeEvent<HTMLChoiceElement>,\n\t\tselectedValues: string[],\n\t\totherInput?: string\n\t) => any;\n\tdefaultValue?: string[];\n\tstatus?: FormStatusProps;\n\tdisabled?: boolean;\n\toptional?: boolean;\n\tclassName?: string;\n\thint?: string;\n\totherInputLabel?: string;\n};\n\nexport type RadioOrChecklistProps = InternalChoiceListProps & {\n\ttype: 'radio' | 'check';\n\tlegend: string;\n\thorizontal?: boolean;\n\tlabel?: never;\n\tunselectedText?: never;\n};\n\ntype DropdownProps = InternalChoiceListProps & {\n\ttype: 'select';\n\tlabel: string;\n\tunselectedText?: string;\n\thorizontal?: never;\n\tlegend?: never;\n};\n\nexport type ChoiceListProps = RadioOrChecklistProps | DropdownProps;\n\n/**\n * @deprecated\n */\nexport const ChoiceList: React.FC<ChoiceListProps> = ({\n\ttype,\n\toptions: inputOptions,\n\tid,\n\tname,\n\tonChange,\n\tdefaultValue: inputSelected = [],\n\tlegend,\n\tstatus,\n\tdisabled,\n\toptional,\n\tclassName,\n\thint,\n\thorizontal,\n\totherInputLabel,\n\tlabel,\n\tunselectedText,\n\tchildren: expansionChildren,\n}) => {\n\tconst [selectedItems, updateSelection] = useState(inputSelected);\n\tconst [otherInput, updateOtherInput] = useState<string | undefined>();\n\n\tlet internalOptions = inputOptions as InternalOption[];\n\tconst validTypesArray: boolean[] =\n\t\tReact.Children.map(expansionChildren, (child) => {\n\t\t\tif (React.isValidElement(child)) {\n\t\t\t\treturn !!child.type && (child.type as Function).name === ChoiceListExpansion.name;\n\t\t\t} else {\n\t\t\t\tthrow new Error('Invalid element');\n\t\t\t}\n\t\t}) || [];\n\tconst areValid = validTypesArray.reduce(\n\t\t(pendingAreValid, isValid) => pendingAreValid && isValid,\n\t\ttrue\n\t);\n\tif (!areValid) {\n\t\tthrow new Error('One or more children are not of type ChoiceListExpansion');\n\t}\n\tconst valueToExpansionChild = React.Children.toArray(expansionChildren).reduce<{\n\t\t[value: string]: JSX.Element;\n\t}>((acc, child) => {\n\t\tif (React.isValidElement(child)) {\n\t\t\treturn {\n\t\t\t\t...acc,\n\t\t\t\t[child.props.showOnValue as string]: child,\n\t\t\t};\n\t\t} else {\n\t\t\treturn acc;\n\t\t}\n\t}, {});\n\tinternalOptions = inputOptions.map((option) => ({\n\t\t...option,\n\t\texpansion: valueToExpansionChild[option.value],\n\t}));\n\n\tconst changeEvent = (event: React.ChangeEvent<HTMLChoiceElement>) => {\n\t\tconst changedValue = event.target.value;\n\t\tif (event.target.type === 'text') {\n\t\t\t// If it's the other text input box\n\t\t\tupdateOtherInput(changedValue);\n\t\t\t// Do whatever the dev wants done when things change\n\t\t\tonChange(event, selectedItems, changedValue);\n\t\t\treturn;\n\t\t}\n\t\tlet newSelectedItems: string[];\n\t\tif (selectedItems.includes(changedValue)) {\n\t\t\t// Uncheck a checkbox if it was already checked\n\t\t\tnewSelectedItems = selectedItems.filter((v) => v !== changedValue);\n\t\t} else if (type === 'check') {\n\t\t\t// If it wasn't already selected and it's a checkbox, add it to whatever else is selected\n\t\t\tnewSelectedItems = [changedValue, ...selectedItems];\n\t\t} else {\n\t\t\t// If it's a radio or dropdown, only this value is selected now\n\t\t\tnewSelectedItems = [changedValue];\n\t\t}\n\t\tupdateSelection(newSelectedItems);\n\t\tonChange(event, newSelectedItems, otherInput);\n\t};\n\n\tconst options = [...internalOptions];\n\tif (otherInputLabel !== undefined) {\n\t\toptions.push({\n\t\t\ttext: otherInputLabel,\n\t\t\tvalue: 'other',\n\t\t});\n\t}\n\n\tconst showotherInput = selectedItems.includes('other');\n\tlet children: JSX.Element[] = [];\n\n\tswitch (type) {\n\t\tcase 'radio':\n\t\t\tif (selectedItems.length > 1) {\n\t\t\t\tthrow new Error('Radio group can only have one selected value at a time.');\n\t\t\t}\n\t\t\tchildren = options.map((option) => {\n\t\t\t\tconst expansion = option.expansion;\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<RadioButton\n\t\t\t\t\t\t\t{...option}\n\t\t\t\t\t\t\tname={option.name || name || ''}\n\t\t\t\t\t\t\tonChange={changeEvent}\n\t\t\t\t\t\t\tselected={selectedItems.includes(option.value)}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t// Including whether it's selected to force re-render... seems bad, but otherwise this option is not showing up as checked\n\t\t\t\t\t\t\tkey={`${id}-${option.value}-${selectedItems.includes(option.value)}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{expansion && selectedItems.includes(option.value) && (\n\t\t\t\t\t\t\t<div className=\"oec-choicelist-expansion\">{expansion}</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t});\n\t\t\tbreak;\n\t\tcase 'check':\n\t\t\tchildren = options.map((option) => {\n\t\t\t\tconst expansion = option.expansion;\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\tid={`${id}-${option.value}`}\n\t\t\t\t\t\t\ttext={option.text}\n\t\t\t\t\t\t\tvalue={option.value}\n\t\t\t\t\t\t\tname={option.name || name || ''}\n\t\t\t\t\t\t\tonChange={changeEvent}\n\t\t\t\t\t\t\tdefaultValue={selectedItems.includes(option.value)}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\tkey={`${id}-${option.value}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{expansion && selectedItems.includes(option.value) && (\n\t\t\t\t\t\t\t<div className=\"oec-choicelist-expansion\">{expansion}</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t});\n\t\t\tbreak;\n\t\tcase 'select':\n\t\t\tif (selectedItems.length > 1) {\n\t\t\t\tthrow new Error('Dropdown can only have one selected value at a time.');\n\t\t\t}\n\t\t\tconst optionElements = [\n\t\t\t\t<option key={`${id}-unselected`} value=\"\">\n\t\t\t\t\t{unselectedText || '- Select -'}\n\t\t\t\t</option>,\n\t\t\t];\n\t\t\toptions.forEach((option) => {\n\t\t\t\toptionElements.push(\n\t\t\t\t\t<option value={option.value} key={`${id}-${option.value}`}>\n\t\t\t\t\t\t{option.text}\n\t\t\t\t\t</option>\n\t\t\t\t);\n\t\t\t});\n\t\t\tchildren = [\n\t\t\t\t<select\n\t\t\t\t\tkey={`${id}-select`}\n\t\t\t\t\tclassName={`usa-select${status ? ` usa-input--${status.type}` : ''}`}\n\t\t\t\t\tname={name || ''}\n\t\t\t\t\tid={id}\n\t\t\t\t\tonChange={changeEvent}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tvalue={selectedItems[0]}\n\t\t\t\t\taria-required={!optional}\n\t\t\t\t\t// Using aria-required to avoid default Chrome behavior\n\t\t\t\t\taria-describedby={status ? status.id : undefined}\n\t\t\t\t\taria-invalid={status && status.type === 'error'}\n\t\t\t\t>\n\t\t\t\t\t{[...optionElements]}\n\t\t\t\t</select>,\n\t\t\t];\n\t}\n\n\tif (children.length === 1) {\n\t\tconst singletonInput = (\n\t\t\t<div\n\t\t\t\tclassName={`usa-form-group${status ? ` usa-form-group--${status.type}` : ''} ${\n\t\t\t\t\tclassName || ''\n\t\t\t\t}`}\n\t\t\t\tkey={`${id}-form-group`}\n\t\t\t>\n\t\t\t\t{hint && <span className=\"usa-hint text-italic\">{hint}</span>}\n\t\t\t\t<div className={!label ? 'margin-top-3' : ''}></div>\n\t\t\t\t{label && (\n\t\t\t\t\t<label className={`usa-label${status ? ` usa-label--${status.type}` : ''}`} htmlFor={id}>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</label>\n\t\t\t\t)}\n\t\t\t\t{status && status.message && <FormStatus {...status} />}\n\t\t\t\t{[...children]}\n\t\t\t\t{options.map((option) => {\n\t\t\t\t\tconst expansion = option.expansion;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<React.Fragment key={`${option.value}-expansion`}>\n\t\t\t\t\t\t\t{expansion && selectedItems.includes(option.value) && (\n\t\t\t\t\t\t\t\t<div className=\"oec-choicelist-expansion\">{option.expansion}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t\tif (!showotherInput) {\n\t\t\treturn singletonInput;\n\t\t}\n\t\tchildren = [singletonInput];\n\t}\n\n\treturn (\n\t\t<FieldSet\n\t\t\t// Will never actually be undefined\n\t\t\tlegend={legend || label || ''}\n\t\t\tstatus={status}\n\t\t\tid={`${id}-fieldset`}\n\t\t\taria-describedby={status ? status.id : undefined}\n\t\t\tclassName={className}\n\t\t\tchildrenGroupClassName=\"margin-top-3\"\n\t\t\thint={hint}\n\t\t\toptional={optional}\n\t\t>\n\t\t\t<div className={horizontal ? 'grid-row flex-align-start grid-gap' : ''}>\n\t\t\t\t{[...children]}\n\t\t\t\t{showotherInput && otherInputLabel !== undefined && (\n\t\t\t\t\t<TextInput\n\t\t\t\t\t\ttype=\"input\"\n\t\t\t\t\t\tid={`${id}-other`}\n\t\t\t\t\t\tname={name || ''}\n\t\t\t\t\t\tlabel={otherInputLabel}\n\t\t\t\t\t\tonChange={changeEvent}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</FieldSet>\n\t);\n};\ntry {\n    // @ts-ignore\n    ChoiceList.displayName = \"ChoiceList\";\n    // @ts-ignore\n    ChoiceList.__docgenInfo = { \"description\": \"@deprecated\", \"displayName\": \"ChoiceList\", \"props\": {} };\n    // @ts-ignore\n    if (typeof STORYBOOK_REACT_CLASSES !== \"undefined\")\n        // @ts-ignore\n        STORYBOOK_REACT_CLASSES[\"src/components/ChoiceList/ChoiceList.tsx#ChoiceList\"] = { docgenInfo: ChoiceList.__docgenInfo, name: \"ChoiceList\", path: \"src/components/ChoiceList/ChoiceList.tsx#ChoiceList\" };\n}\ncatch (__react_docgen_typescript_loader_error) { }"]},"metadata":{},"sourceType":"module"}