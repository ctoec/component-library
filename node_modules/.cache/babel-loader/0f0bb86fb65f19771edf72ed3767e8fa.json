{"ast":null,"code":"import _classCallCheck from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{Alert}from'..';export var ErrorBoundary=/*#__PURE__*/function(_React$Component){_inherits(ErrorBoundary,_React$Component);var _super=_createSuper(ErrorBoundary);function ErrorBoundary(){var _this;_classCallCheck(this,ErrorBoundary);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={hasError:false};return _this;}_createClass(ErrorBoundary,[{key:\"componentDidCatch\",value:function componentDidCatch(error,errorInfo){console.error(error,errorInfo);}},{key:\"render\",value:function render(){var hasError=this.state.hasError;var alertProps=this.props.alertProps||{text:'Something went wrong',type:'error',heading:'Error'};if(hasError){// TODO: set alert context here instead? return nothing?\nreturn/*#__PURE__*/React.createElement(Alert,alertProps);}return this.props.children;}}],[{key:\"getDerivedStateFromError\",value:function getDerivedStateFromError(error){// Update state so the next render will show the fallback UI.\nreturn{hasError:true};}}]);return ErrorBoundary;}(React.Component);","map":{"version":3,"sources":["/home/app/src/components/ErrorBoundary/ErrorBoundary.tsx"],"names":["ErrorBoundary","React","hasError","console","alertProps","text","type","heading"],"mappings":"gfAAA,MAAA,CAAA,KAAA,KAAA,OAAA,CACA,OAAA,KAAA,KAAA,IAAA,CAUA,MAAA,IAAaA,CAAAA,aAAb,CAAA,aAAA,SAAA,gBAAA,CAAA,CAAA,SAAA,CAAA,aAAA,CAAA,gBAAA,CAAA,CAAA,GAAA,CAAA,MAAA,CAAA,YAAA,CAAA,aAAA,CAAA,CAAA,QAAA,CAAA,aAAA,EAAA,CAAA,GAAA,CAAA,KAAA,CAAA,eAAA,CAAA,IAAA,CAAA,aAAA,CAAA,CAAA,IAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA,CAAA,CAAA,IAAA,CAAA,CAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA,CAAA,CAAA,IAAA,CAAA,IAAA,CAAA,CAAA,SAAA,CAAA,IAAA,CAAA,CAAA,CAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,CAAA,IAAA,EAAA,MAAA,CAAA,IAAA,CAAA,CAAA,CAAA,KAAA,CAAA,KAAA,CAI6C,CAC3CE,QAAQ,CAAE,KADiC,CAJ7C,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,YAAA,CAAA,aAAA,CAAA,CAAA,CAAA,GAAA,CAAA,mBAAA,CAAA,KAAA,CAAA,QAAA,CAAA,iBAAA,CAAA,KAAA,CAAA,SAAA,CAa+C,CAC7CC,OAAO,CAAPA,KAAAA,CAAAA,KAAAA,CAAAA,SAAAA,EACA,CAfF,CAAA,CAAA,CAAA,GAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAAA,MAAA,EAiBU,CAAA,GACAD,CAAAA,QADA,CACa,KADb,KACa,CADb,QAAA,CAER,GAAME,CAAAA,UAAU,CAAG,KAAA,KAAA,CAAA,UAAA,EAAyB,CAC3CC,IAAI,CADuC,sBAAA,CAE3CC,IAAI,CAFuC,OAAA,CAG3CC,OAAO,CAAE,OAHkC,CAA5C,CAKA,GAAA,QAAA,CAAc,CACb;AACA,MAAA,aAAO,KAAA,CAAA,aAAA,CAAA,KAAA,CAAP,UAAO,CAAP,CACA,CAED,MAAO,MAAA,KAAA,CAAP,QAAA,CACA,CA9BF,CAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,0BAAA,CAAA,KAAA,CAAA,QAAA,CAAA,wBAAA,CAAA,KAAA,CAQ6C,CAC3C;AACA,MAAO,CAAEL,QAAQ,CAAE,IAAZ,CAAP,CACA,CAXF,CAAA,CAAA,CAAA,CAAA,MAAA,CAAA,aAAA,CAAA,CAAA,CAAmCD,KAAK,CAAxC,SAAA,CAAA","sourcesContent":["import React from 'react';\nimport { Alert, AlertProps } from '..';\n\ntype ErrorBoundaryState = {\n\thasError: boolean;\n};\n\ntype ErrorBoundaryProps = {\n\talertProps?: AlertProps;\n};\n\nexport class ErrorBoundary extends React.Component<ErrorBoundaryProps> {\n\t// https://reactjs.org/docs/error-boundaries.html\n\t// Hooks don't handle componentDidCatch so this has to be a class for now\n\t// https://reactjs.org/docs/hooks-faq.html#do-hooks-cover-all-use-cases-for-classes\n\tpublic readonly state: ErrorBoundaryState = {\n\t\thasError: false,\n\t};\n\n\tstatic getDerivedStateFromError(error: any) {\n\t\t// Update state so the next render will show the fallback UI.\n\t\treturn { hasError: true };\n\t}\n\n\tcomponentDidCatch(error: any, errorInfo: any) {\n\t\tconsole.error(error, errorInfo);\n\t}\n\n\trender() {\n\t\tconst { hasError } = this.state;\n\t\tconst alertProps = this.props.alertProps || {\n\t\t\ttext: 'Something went wrong',\n\t\t\ttype: 'error',\n\t\t\theading: 'Error',\n\t\t};\n\t\tif (hasError) {\n\t\t\t// TODO: set alert context here instead? return nothing?\n\t\t\treturn <Alert {...alertProps} />;\n\t\t}\n\n\t\treturn this.props.children;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}