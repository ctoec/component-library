{"ast":null,"code":"import _defineProperty from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Children,useEffect,useState,isValidElement,createContext,useCallback}from'react';import cx from'classnames';import{Tag}from'..';import{CardExpansion}from'./CardExpansion';var CardContext=createContext({isExpanded:false,toggleExpanded:function toggleExpanded(){}});var CardProvider=CardContext.Provider;export{CardContext};export function Card(_ref){var appearance=_ref.appearance,className=_ref.className,_ref$expanded=_ref.expanded,expanded=_ref$expanded===void 0?false:_ref$expanded,onExpansionChange=_ref.onExpansionChange,forceClose=_ref.forceClose,_ref$showTag=_ref.showTag,showTag=_ref$showTag===void 0?false:_ref$showTag,children=_ref.children;var _useState=useState(),_useState2=_slicedToArray(_useState,2),previousIsExpanded=_useState2[0],setPreviousIsExpanded=_useState2[1];var _useState3=useState(expanded),_useState4=_slicedToArray(_useState3,2),isExpanded=_useState4[0],setIsExpanded=_useState4[1];var updateExpanded=useCallback(function(_){setPreviousIsExpanded(isExpanded);setIsExpanded(_);},[setPreviousIsExpanded,setIsExpanded,isExpanded]);var toggleExpanded=function toggleExpanded(){return updateExpanded(!isExpanded);};useEffect(function(){if(onExpansionChange&&previousIsExpanded!==undefined){onExpansionChange(isExpanded);}},[isExpanded,previousIsExpanded]);useEffect(function(){if(forceClose){updateExpanded(false);}},[forceClose,updateExpanded]);return/*#__PURE__*/React.createElement(CardProvider,{value:{isExpanded:isExpanded,toggleExpanded:toggleExpanded}},/*#__PURE__*/React.createElement(\"div\",{className:cx('oec-card',_defineProperty({},\"oec-card--\".concat(appearance),appearance),className)},showTag&&/*#__PURE__*/React.createElement(Tag,{className:\"oec-card-tag\",text:\"NEW\",color:\"theme-color-primary\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"oec-card-cell\"},Children.map(children,function(child){if(!isValidElement(child)){throw new Error('Invalid card child element');}var type=typeof child.type==='string'?child.type:child.type.name;if(type!==CardExpansion.name){return child;}})),/*#__PURE__*/React.createElement(\"div\",{className:cx({'oec-card-divider':isExpanded})}),isExpanded&&/*#__PURE__*/React.createElement(\"div\",{className:cx('oec-card-cell','oec-card-expansion')},Children.map(children,function(child){if(!isValidElement(child)){throw new Error('Invalid card child element');}var type=typeof child.type==='string'?child.type:child.type.name;if(type===CardExpansion.name){return child;}}))));}try{// @ts-ignore\nCard.displayName=\"Card\";// @ts-ignore\nCard.__docgenInfo={\"description\":\"\",\"displayName\":\"Card\",\"props\":{\"appearance\":{\"defaultValue\":null,\"description\":\"\",\"name\":\"appearance\",\"required\":false,\"type\":{\"name\":\"NavItemType\"}},\"className\":{\"defaultValue\":null,\"description\":\"\",\"name\":\"className\",\"required\":false,\"type\":{\"name\":\"string\"}},\"expanded\":{\"defaultValue\":{value:false},\"description\":\"\",\"name\":\"expanded\",\"required\":false,\"type\":{\"name\":\"boolean\"}},\"onExpansionChange\":{\"defaultValue\":null,\"description\":\"\",\"name\":\"onExpansionChange\",\"required\":false,\"type\":{\"name\":\"(_: boolean) => void\"}},\"forceClose\":{\"defaultValue\":null,\"description\":\"\",\"name\":\"forceClose\",\"required\":false,\"type\":{\"name\":\"boolean\"}},\"showTag\":{\"defaultValue\":{value:false},\"description\":\"\",\"name\":\"showTag\",\"required\":false,\"type\":{\"name\":\"boolean\"}}}};// @ts-ignore\nif(typeof STORYBOOK_REACT_CLASSES!==\"undefined\")// @ts-ignore\nSTORYBOOK_REACT_CLASSES[\"src/components/Card/Card.tsx#Card\"]={docgenInfo:Card.__docgenInfo,name:\"Card\",path:\"src/components/Card/Card.tsx#Card\"};}catch(__react_docgen_typescript_loader_error){}","map":{"version":3,"sources":["/home/app/src/components/Card/Card.tsx"],"names":["CardContext","createContext","isExpanded","toggleExpanded","Provider","CardProvider","appearance","className","expanded","onExpansionChange","forceClose","showTag","children","previousIsExpanded","setPreviousIsExpanded","useState","setIsExpanded","updateExpanded","useCallback","useEffect","cx","isValidElement","type","child","CardExpansion","Card","value","STORYBOOK_REACT_CLASSES","docgenInfo","name","path"],"mappings":"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","sourcesContent":["import React, {\n\tChildren,\n\tuseEffect,\n\tuseState,\n\tisValidElement,\n\tPropsWithChildren,\n\tcreateContext,\n\tuseCallback,\n} from 'react';\nimport cx from 'classnames';\nimport { Tag } from '..';\nimport { CardExpansion } from './CardExpansion';\n\ntype CardContextType = {\n\tisExpanded: boolean;\n\ttoggleExpanded: () => void;\n};\n\nconst CardContext = createContext<CardContextType>({\n\tisExpanded: false,\n\ttoggleExpanded: () => {},\n});\n\nconst { Provider: CardProvider } = CardContext;\nexport { CardContext };\n\nexport type CardProps = {\n\tappearance?: 'primary' | 'secondary';\n\tclassName?: string;\n\texpanded?: boolean;\n\tonExpansionChange?: (_: boolean) => void;\n\tforceClose?: boolean;\n\tshowTag?: boolean;\n};\n\nexport function Card({\n\tappearance,\n\tclassName,\n\texpanded = false,\n\tonExpansionChange,\n\tforceClose,\n\tshowTag = false,\n\tchildren,\n}: PropsWithChildren<CardProps>) {\n\tconst [previousIsExpanded, setPreviousIsExpanded] = useState<boolean>();\n\tconst [isExpanded, setIsExpanded] = useState(expanded);\n\tconst updateExpanded = useCallback(\n\t\t(_: boolean) => {\n\t\t\tsetPreviousIsExpanded(isExpanded);\n\t\t\tsetIsExpanded(_);\n\t\t},\n\t\t[setPreviousIsExpanded, setIsExpanded, isExpanded]\n\t);\n\tconst toggleExpanded = () => updateExpanded(!isExpanded);\n\n\tuseEffect(() => {\n\t\tif (onExpansionChange && previousIsExpanded !== undefined) {\n\t\t\tonExpansionChange(isExpanded);\n\t\t}\n\t}, [isExpanded, previousIsExpanded]);\n\n\tuseEffect(() => {\n\t\tif (forceClose) {\n\t\t\tupdateExpanded(false);\n\t\t}\n\t}, [forceClose, updateExpanded]);\n\n\treturn (\n\t\t<CardProvider\n\t\t\tvalue={{\n\t\t\t\tisExpanded,\n\t\t\t\ttoggleExpanded,\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={cx(\n\t\t\t\t\t'oec-card',\n\t\t\t\t\t{\n\t\t\t\t\t\t[`oec-card--${appearance}`]: appearance,\n\t\t\t\t\t},\n\t\t\t\t\tclassName\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{showTag && <Tag className=\"oec-card-tag\" text=\"NEW\" color=\"theme-color-primary\" />}\n\t\t\t\t<div className=\"oec-card-cell\">\n\t\t\t\t\t{Children.map(children, (child) => {\n\t\t\t\t\t\tif (!isValidElement(child)) {\n\t\t\t\t\t\t\tthrow new Error('Invalid card child element');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst type = typeof child.type === 'string' ? child.type : child.type.name;\n\t\t\t\t\t\tif (type !== CardExpansion.name) {\n\t\t\t\t\t\t\treturn child;\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={cx({\n\t\t\t\t\t\t'oec-card-divider': isExpanded,\n\t\t\t\t\t})}\n\t\t\t\t></div>\n\t\t\t\t{isExpanded && (\n\t\t\t\t\t<div className={cx('oec-card-cell', 'oec-card-expansion')}>\n\t\t\t\t\t\t{Children.map(children, (child) => {\n\t\t\t\t\t\t\tif (!isValidElement(child)) {\n\t\t\t\t\t\t\t\tthrow new Error('Invalid card child element');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst type = typeof child.type === 'string' ? child.type : child.type.name;\n\t\t\t\t\t\t\tif (type === CardExpansion.name) {\n\t\t\t\t\t\t\t\treturn child;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</CardProvider>\n\t);\n}\ntry {\n    // @ts-ignore\n    Card.displayName = \"Card\";\n    // @ts-ignore\n    Card.__docgenInfo = { \"description\": \"\", \"displayName\": \"Card\", \"props\": { \"appearance\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"appearance\", \"required\": false, \"type\": { \"name\": \"NavItemType\" } }, \"className\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"className\", \"required\": false, \"type\": { \"name\": \"string\" } }, \"expanded\": { \"defaultValue\": { value: false }, \"description\": \"\", \"name\": \"expanded\", \"required\": false, \"type\": { \"name\": \"boolean\" } }, \"onExpansionChange\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"onExpansionChange\", \"required\": false, \"type\": { \"name\": \"(_: boolean) => void\" } }, \"forceClose\": { \"defaultValue\": null, \"description\": \"\", \"name\": \"forceClose\", \"required\": false, \"type\": { \"name\": \"boolean\" } }, \"showTag\": { \"defaultValue\": { value: false }, \"description\": \"\", \"name\": \"showTag\", \"required\": false, \"type\": { \"name\": \"boolean\" } } } };\n    // @ts-ignore\n    if (typeof STORYBOOK_REACT_CLASSES !== \"undefined\")\n        // @ts-ignore\n        STORYBOOK_REACT_CLASSES[\"src/components/Card/Card.tsx#Card\"] = { docgenInfo: Card.__docgenInfo, name: \"Card\", path: \"src/components/Card/Card.tsx#Card\" };\n}\ncatch (__react_docgen_typescript_loader_error) { }"]},"metadata":{},"sourceType":"module"}