{"ast":null,"code":"import _classCallCheck from \"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _createSuper from \"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _inherits from \"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/app/src/components/Table/Table.tsx\";\nimport React from 'react';\nimport ColumnHeader from './ColumnHeader';\nimport Row from './Row';\nimport cx from 'classnames';\nexport var Table = /*#__PURE__*/function (_React$Component) {\n  _inherits(Table, _React$Component);\n\n  var _super = _createSuper(Table);\n\n  function Table(props) {\n    var _this;\n\n    _classCallCheck(this, Table);\n\n    _this = _super.call(this, props);\n\n    _this.setTableSort = function (sort) {\n      _this.setState(sort);\n    };\n\n    var defaultSortColumn = props.defaultSortColumn,\n        defaultSortOrder = props.defaultSortOrder;\n    _this.state = {\n      sortColumn: defaultSortColumn,\n      sortOrder: defaultSortOrder\n    };\n    return _this;\n  }\n\n  _createClass(Table, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          id = _this$props.id,\n          data = _this$props.data,\n          rowKey = _this$props.rowKey,\n          columns = _this$props.columns,\n          onRowClick = _this$props.onRowClick,\n          fullWidth = _this$props.fullWidth,\n          caption = _this$props.caption;\n      var _this$state = this.state,\n          sortColumn = _this$state.sortColumn,\n          sortOrder = _this$state.sortOrder;\n      var cells = columns.map(function (column) {\n        return column.cell;\n      });\n      var sortedData = data;\n\n      if (typeof sortColumn !== 'undefined' && sortOrder) {\n        var sortBy = columns[sortColumn].sort;\n\n        if (sortBy) {\n          sortedData = data.sort(function (a, b) {\n            var aBy = sortBy(a);\n            var bBy = sortBy(b); // prettier-ignore\n\n            if (aBy === bBy) {\n              return 0;\n            } else if (aBy < bBy === (sortOrder === 'ascending')) {\n              return -1;\n            } else {\n              return 1;\n            }\n          });\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(\"table\", {\n        id: id,\n        className: cx('oec-table', {\n          'oec-table--full-width': fullWidth\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 4\n        }\n      }, caption && /*#__PURE__*/React.createElement(\"caption\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, caption), /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 6\n        }\n      }, columns.map(function (column, index) {\n        return /*#__PURE__*/React.createElement(ColumnHeader, {\n          name: column.name,\n          sortable: !!column.sort,\n          sorted: sortColumn === index,\n          sortOrder: sortOrder,\n          index: index,\n          key: index,\n          setTableSort: _this2.setTableSort,\n          width: column.width,\n          className: column.className,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 8\n          }\n        });\n      }))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 5\n        }\n      }, sortedData.map(function (row) {\n        return /*#__PURE__*/React.createElement(Row, {\n          row: row,\n          cells: cells,\n          onClick: onRowClick,\n          key: rowKey(row),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 7\n          }\n        });\n      })));\n    }\n  }]);\n\n  return Table;\n}(React.Component);\nexport default Table;","map":{"version":3,"sources":["/home/app/src/components/Table/Table.tsx"],"names":["Table","React","defaultSortColumn","defaultSortOrder","props","sortColumn","sortOrder","id","data","rowKey","columns","onRowClick","fullWidth","caption","cells","column","sortedData","sortBy","aBy","bBy","cx"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ColumnHeader from './ColumnHeader';\nimport Row from './Row';\nimport cx from 'classnames';\n\nexport type Column<T> = {\n\tname: string | JSX.Element;\n\tcell: React.FC<{ row: T }>;\n\tsort?: (row: T) => number | string;\n\twidth?: string;\n\tclassName?: string;\n};\n\nexport type SortOrder = 'ascending' | 'descending';\n\nexport type TableProps<T> = {\n\tid: string;\n\tdata: T[];\n\trowKey: (row: T) => number | string;\n\tcolumns: Column<T>[];\n\tdefaultSortColumn?: number;\n\tdefaultSortOrder?: SortOrder;\n\tonRowClick?: (row: T) => () => any;\n\tfullWidth?: boolean;\n\tcaption?: string;\n};\n\nexport type TableSort = {\n\tsortColumn?: number;\n\tsortOrder?: SortOrder;\n};\n\nexport class Table<T> extends React.Component<TableProps<T>, TableSort> {\n\tconstructor(props: TableProps<T>) {\n\t\tsuper(props);\n\n\t\tconst { defaultSortColumn, defaultSortOrder } = props;\n\t\tthis.state = { sortColumn: defaultSortColumn, sortOrder: defaultSortOrder };\n\t}\n\n\tsetTableSort = (sort: TableSort) => {\n\t\tthis.setState(sort);\n\t};\n\n\trender() {\n\t\tconst { id, data, rowKey, columns, onRowClick, fullWidth, caption } = this.props;\n\t\tconst { sortColumn, sortOrder } = this.state;\n\n\t\tconst cells = columns.map((column) => column.cell);\n\n\t\tlet sortedData = data;\n\n\t\tif (typeof sortColumn !== 'undefined' && sortOrder) {\n\t\t\tconst sortBy = columns[sortColumn].sort;\n\n\t\t\tif (sortBy) {\n\t\t\t\tsortedData = data.sort((a, b) => {\n\t\t\t\t\tconst aBy = sortBy(a);\n\t\t\t\t\tconst bBy = sortBy(b);\n\n\t\t\t\t\t// prettier-ignore\n\t\t\t\t\tif (aBy === bBy) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t} else if ((aBy < bBy) === (sortOrder === 'ascending')) {\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<table id={id} className={cx('oec-table', { 'oec-table--full-width': fullWidth })}>\n\t\t\t\t{caption && <caption>{caption}</caption>}\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{columns.map((column, index) => (\n\t\t\t\t\t\t\t<ColumnHeader\n\t\t\t\t\t\t\t\tname={column.name}\n\t\t\t\t\t\t\t\tsortable={!!column.sort}\n\t\t\t\t\t\t\t\tsorted={sortColumn === index}\n\t\t\t\t\t\t\t\tsortOrder={sortOrder}\n\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\tsetTableSort={this.setTableSort}\n\t\t\t\t\t\t\t\twidth={column.width}\n\t\t\t\t\t\t\t\tclassName={column.className}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{sortedData.map((row) => (\n\t\t\t\t\t\t<Row row={row} cells={cells} onClick={onRowClick} key={rowKey(row)} />\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t);\n\t}\n}\n\nexport default Table;\n"]},"metadata":{},"sourceType":"module"}