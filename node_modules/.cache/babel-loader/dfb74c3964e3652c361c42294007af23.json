{"ast":null,"code":"import _classCallCheck from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _objectSpread from\"/home/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from'react';import{matchPath}from'react-router';import{withRouter}from'react-router-dom';import{Link}from'react-router-dom';import{default as NavItem}from'./NavItem';import closeIcon from\"uswds/src/img/close.svg\";import cx from'classnames';var setActiveStateOfNavItem=function setActiveStateOfNavItem(item,index,path){var active;if(index===0&&path==='/'){// By convention, the first section should be active when at the root path\nactive=true;}else{active=!!matchPath(path,{path:item.path});}return _objectSpread({},item,{active:active});};var HeaderWithoutRouter=/*#__PURE__*/function(_React$Component){_inherits(HeaderWithoutRouter,_React$Component);var _super=_createSuper(HeaderWithoutRouter);function HeaderWithoutRouter(){var _this;_classCallCheck(this,HeaderWithoutRouter);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={menuIsVisible:false};_this.showMenu=function(){_this.setState({menuIsVisible:true});};_this.hideMenu=function(){_this.setState({menuIsVisible:false});};return _this;}_createClass(HeaderWithoutRouter,[{key:\"componentDidMount\",value:function componentDidMount(){window.addEventListener('resize',this.hideMenu);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('resize',this.hideMenu);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.location.pathname!==prevProps.location.pathname){this.hideMenu();}}},{key:\"render\",value:function render(){var _this$props=this.props,primaryTitle=_this$props.primaryTitle,secondaryTitle=_this$props.secondaryTitle,navItems=_this$props.navItems,_this$props$loginPath=_this$props.loginPath,loginPath=_this$props$loginPath===void 0?'/login':_this$props$loginPath,_this$props$logoutPat=_this$props.logoutPath,logoutPath=_this$props$logoutPat===void 0?'/logout':_this$props$logoutPat,userFirstName=_this$props.userFirstName,location=_this$props.location;var primaryNavItems=navItems.filter(function(item){return item.type==='primary';}).map(function(item,index){return setActiveStateOfNavItem(item,index,location.pathname);});var secondaryNavItems=navItems.filter(function(item){return item.type==='secondary';});return/*#__PURE__*/React.createElement(\"div\",{className:cx({'usa-js-mobile-nav--active':this.state.menuIsVisible})},/*#__PURE__*/React.createElement(\"div\",{\"data-testid\":\"overlay\",className:cx('usa-overlay',{'is-visible':this.state.menuIsVisible}),onClick:this.hideMenu}),/*#__PURE__*/React.createElement(\"header\",{className:cx('usa-header','usa-header--extended','usa-header--oec-default'),role:\"banner\"},/*#__PURE__*/React.createElement(\"div\",{className:cx('usa-navbar')},/*#__PURE__*/React.createElement(\"div\",{className:cx('usa-logo'),id:\"extended-logo\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",\"aria-label\":\"\".concat(primaryTitle,\" home\")},/*#__PURE__*/React.createElement(\"div\",{className:cx('usa-logo__text','display-flex','flex-align-center')},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:cx('primary-title',{'primary-title--only':!secondaryTitle})},primaryTitle),secondaryTitle&&/*#__PURE__*/React.createElement(\"div\",{className:\"secondary-title\"},secondaryTitle))))),/*#__PURE__*/React.createElement(\"button\",{className:cx('usa-menu-btn'),onClick:this.showMenu},\"Menu\")),/*#__PURE__*/React.createElement(\"nav\",{role:\"navigation\",className:cx('usa-nav',{'is-visible':this.state.menuIsVisible})},/*#__PURE__*/React.createElement(\"div\",{className:cx('usa-nav__inner')},/*#__PURE__*/React.createElement(\"button\",{className:cx('usa-nav__close'),onClick:this.hideMenu},/*#__PURE__*/React.createElement(\"img\",{src:closeIcon,alt:\"close\"})),/*#__PURE__*/React.createElement(\"ul\",{className:cx('usa-nav__primary usa-accordion')},primaryNavItems.map(function(item,index){return/*#__PURE__*/React.createElement(NavItem,Object.assign({},item,{key:index}));})),/*#__PURE__*/React.createElement(\"div\",{className:cx('usa-nav__secondary','usa-nav__secondary--extended')},/*#__PURE__*/React.createElement(\"ul\",{className:cx('usa-nav__secondary-links')},secondaryNavItems.map(function(item,index){return/*#__PURE__*/React.createElement(NavItem,Object.assign({},item,{key:index}));}),userFirstName&&/*#__PURE__*/React.createElement(NavItem,{type:\"secondary\",title:\"Log out\",path:logoutPath})),/*#__PURE__*/React.createElement(\"div\",{className:cx('oec-logged-in-user')},userFirstName?/*#__PURE__*/React.createElement(\"span\",null,\"Hi, \",userFirstName,\".\"):/*#__PURE__*/React.createElement(Link,{to:loginPath},\"Sign in\")))))));}}]);return HeaderWithoutRouter;}(React.Component);export var Header=withRouter(HeaderWithoutRouter);","map":{"version":3,"sources":["/home/app/src/components/Header/Header.tsx"],"names":["default","setActiveStateOfNavItem","index","path","active","matchPath","item","HeaderWithoutRouter","React","Component","state","menuIsVisible","showMenu","hideMenu","window","prevProps","primaryTitle","secondaryTitle","navItems","loginPath","logoutPath","userFirstName","location","primaryNavItems","secondaryNavItems","cx","Header","withRouter"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { matchPath } from 'react-router';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { default as NavItem, NavItemProps } from './NavItem';\nimport closeIcon from 'uswds/src/img/close.svg';\nimport cx from 'classnames';\n\nexport type HeaderProps = {\n\tprimaryTitle: string;\n\tsecondaryTitle?: string;\n\tnavItems: NavItemProps[];\n\tloginPath?: string;\n\tlogoutPath?: string;\n\tuserFirstName?: string;\n};\n\ntype HeaderState = {\n\tmenuIsVisible: boolean;\n};\n\nconst setActiveStateOfNavItem = function (item: NavItemProps, index: number, path: string) {\n\tlet active: boolean;\n\n\tif (index === 0 && path === '/') {\n\t\t// By convention, the first section should be active when at the root path\n\t\tactive = true;\n\t} else {\n\t\tactive = !!matchPath(path, { path: item.path });\n\t}\n\n\treturn { ...item, active };\n};\n\nclass HeaderWithoutRouter extends React.Component<HeaderProps & RouteComponentProps, HeaderState> {\n\tstate = { menuIsVisible: false };\n\n\tshowMenu = () => {\n\t\tthis.setState({ menuIsVisible: true });\n\t};\n\n\thideMenu = () => {\n\t\tthis.setState({ menuIsVisible: false });\n\t};\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('resize', this.hideMenu);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('resize', this.hideMenu);\n\t}\n\n\tcomponentDidUpdate(prevProps: RouteComponentProps) {\n\t\tif (this.props.location.pathname !== prevProps.location.pathname) {\n\t\t\tthis.hideMenu();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tprimaryTitle,\n\t\t\tsecondaryTitle,\n\t\t\tnavItems,\n\t\t\tloginPath = '/login',\n\t\t\tlogoutPath = '/logout',\n\t\t\tuserFirstName,\n\t\t\tlocation,\n\t\t} = this.props;\n\n\t\tconst primaryNavItems = navItems\n\t\t\t.filter((item) => item.type === 'primary')\n\t\t\t.map((item, index) => setActiveStateOfNavItem(item, index, location.pathname));\n\n\t\tconst secondaryNavItems = navItems.filter((item) => item.type === 'secondary');\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={cx({\n\t\t\t\t\t'usa-js-mobile-nav--active': this.state.menuIsVisible,\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tdata-testid=\"overlay\"\n\t\t\t\t\tclassName={cx('usa-overlay', { 'is-visible': this.state.menuIsVisible })}\n\t\t\t\t\tonClick={this.hideMenu}\n\t\t\t\t></div>\n\t\t\t\t<header\n\t\t\t\t\tclassName={cx('usa-header', 'usa-header--extended', 'usa-header--oec-default')}\n\t\t\t\t\trole=\"banner\"\n\t\t\t\t>\n\t\t\t\t\t<div className={cx('usa-navbar')}>\n\t\t\t\t\t\t<div className={cx('usa-logo')} id=\"extended-logo\">\n\t\t\t\t\t\t\t<Link to=\"/\" aria-label={`${primaryTitle} home`}>\n\t\t\t\t\t\t\t\t<div className={cx('usa-logo__text', 'display-flex', 'flex-align-center')}>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={cx('primary-title', {\n\t\t\t\t\t\t\t\t\t\t\t\t'primary-title--only': !secondaryTitle,\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{primaryTitle}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{secondaryTitle && <div className=\"secondary-title\">{secondaryTitle}</div>}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button className={cx('usa-menu-btn')} onClick={this.showMenu}>\n\t\t\t\t\t\t\tMenu\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<nav\n\t\t\t\t\t\trole=\"navigation\"\n\t\t\t\t\t\tclassName={cx('usa-nav', { 'is-visible': this.state.menuIsVisible })}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className={cx('usa-nav__inner')}>\n\t\t\t\t\t\t\t<button className={cx('usa-nav__close')} onClick={this.hideMenu}>\n\t\t\t\t\t\t\t\t<img src={closeIcon} alt=\"close\" />\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<ul className={cx('usa-nav__primary usa-accordion')}>\n\t\t\t\t\t\t\t\t{primaryNavItems.map((item, index) => (\n\t\t\t\t\t\t\t\t\t<NavItem {...item} key={index} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t<div className={cx('usa-nav__secondary', 'usa-nav__secondary--extended')}>\n\t\t\t\t\t\t\t\t<ul className={cx('usa-nav__secondary-links')}>\n\t\t\t\t\t\t\t\t\t{secondaryNavItems.map((item, index) => (\n\t\t\t\t\t\t\t\t\t\t<NavItem {...item} key={index} />\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t{userFirstName && <NavItem type=\"secondary\" title=\"Log out\" path={logoutPath} />}\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t<div className={cx('oec-logged-in-user')}>\n\t\t\t\t\t\t\t\t\t{userFirstName ? (\n\t\t\t\t\t\t\t\t\t\t<span>Hi, {userFirstName}.</span>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Link to={loginPath}>Sign in</Link>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</nav>\n\t\t\t\t</header>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport const Header = withRouter(HeaderWithoutRouter);\n"]},"metadata":{},"sourceType":"module"}